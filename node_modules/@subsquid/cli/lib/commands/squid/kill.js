"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const core_1 = require("@oclif/core");
const destroy_1 = require("../../rest-client/routes/destroy");
const utils_1 = require("../../utils");
class Kill extends core_1.Command {
    async run() {
        const { flags, args } = await this.parse(Kill);
        const params = args.nameAndVersion;
        let message;
        if (params.includes('@')) {
            const { squidName, versionName } = (0, utils_1.parseNameAndVersion)(params, this);
            message = await (0, destroy_1.destroyDeployment)(squidName, versionName);
        }
        else {
            message = await (0, destroy_1.destroyApp)(params);
        }
        this.log(message);
    }
}
exports.default = Kill;
Kill.description = 'Kill a squid or a squid version';
Kill.args = [
    {
        name: 'nameAndVersion',
        description: '<name> or <name@version>',
        required: true,
    },
];
//# sourceMappingURL=kill.js.map