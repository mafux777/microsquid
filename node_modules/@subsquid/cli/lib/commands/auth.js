"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const core_1 = require("@oclif/core");
const creds_1 = require("../creds");
const rest_client_1 = require("../rest-client");
class Auth extends core_1.Command {
    async run() {
        const { flags } = await this.parse(Auth);
        const accessKey = flags.key;
        (0, creds_1.setCreds)(accessKey);
        const identificationMessage = await (0, rest_client_1.me)(accessKey);
        this.log(identificationMessage);
    }
}
exports.default = Auth;
Auth.description = `Authenticate for saas management`;
Auth.flags = {
    key: core_1.Flags.string({
        char: 'k',
        description: 'Obtained access key for CLI',
        required: true,
    }),
};
//# sourceMappingURL=auth.js.map