"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.release = void 0;
const baseUrl_1 = require("../baseUrl");
const creds_1 = require("../../creds");
const request_1 = require("../request");
/** Release (create) version */
async function release(squidName, versionName, artifactUrl, description) {
    const apiUrl = `${baseUrl_1.baseUrl}/client/squid/${squidName}/version`;
    const response = await (0, request_1.request)(apiUrl, {
        method: 'post',
        body: JSON.stringify({ artifactUrl, versionName, description }),
        headers: {
            // eslint-disable-next-line @typescript-eslint/naming-convention
            'Content-Type': 'application/json',
            authorization: `token ${(0, creds_1.getCreds)()}`,
        },
    });
    const responseBody = await response.json();
    if (response.status === 200) {
        return responseBody;
    }
}
exports.release = release;
//# sourceMappingURL=release.js.map