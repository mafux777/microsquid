"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.destroyApp = exports.destroyDeployment = void 0;
const baseUrl_1 = require("../baseUrl");
const creds_1 = require("../../creds");
const request_1 = require("../request");
async function destroyDeployment(squidName, version) {
    const apiUrl = `${baseUrl_1.baseUrl}/client/squid/${squidName}/version?name=${version}`;
    const response = await (0, request_1.request)(apiUrl, {
        method: 'delete',
        headers: {
            // eslint-disable-next-line @typescript-eslint/naming-convention
            'Content-Type': 'application/json',
            authorization: `token ${(0, creds_1.getCreds)()}`,
        },
    });
    const responseBody = await response.json();
    if (response.status === 200) {
        return `Destroyed Squid version ${responseBody.squidName}`;
    }
}
exports.destroyDeployment = destroyDeployment;
async function destroyApp(name) {
    const apiUrl = `${baseUrl_1.baseUrl}/client/squid/${name}`;
    const response = await (0, request_1.request)(apiUrl, {
        method: 'delete',
        headers: {
            // eslint-disable-next-line @typescript-eslint/naming-convention
            'Content-Type': 'application/json',
            authorization: `token ${(0, creds_1.getCreds)()}`,
        },
    });
    const responseBody = await response.json();
    if (response.status === 200) {
        return `Destroyed Squid ${responseBody.name}`;
    }
}
exports.destroyApp = destroyApp;
//# sourceMappingURL=destroy.js.map