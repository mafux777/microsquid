"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.update = void 0;
const baseUrl_1 = require("../baseUrl");
const creds_1 = require("../../creds");
const request_1 = require("../request");
/** Update version image */
async function update(squidName, versionName, artifactUrl, hardReset) {
    const apiUrl = `${baseUrl_1.baseUrl}/client/squid/${squidName}/version/${versionName}/deployment`;
    const response = await (0, request_1.request)(apiUrl, {
        method: 'put',
        body: JSON.stringify({ artifactUrl, hardReset }),
        headers: {
            // eslint-disable-next-line @typescript-eslint/naming-convention
            'Content-Type': 'application/json',
            authorization: `token ${(0, creds_1.getCreds)()}`,
        },
    });
    const responseBody = await response.json();
    if (response.status === 200) {
        return responseBody;
    }
}
exports.update = update;
//# sourceMappingURL=update.js.map